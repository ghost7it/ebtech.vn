@using Entities.Enums;
@using Entities.Models;
@model IEnumerable<Course>
@{
    var canDelete = RoleHelper.CheckPermission(ModuleEnum.Majors, ActionEnum.Delete);
    var canCreate = RoleHelper.CheckPermission(ModuleEnum.Majors, ActionEnum.Create);
    var canUpdate = RoleHelper.CheckPermission(ModuleEnum.Majors, ActionEnum.Update);
}
<div class="portlet-title">
    <div class="caption">
        <i class="fa fa-cogs"></i>Danh sách khóa thuộc ngành @ViewBag.MajorsName
    </div>
</div>
<div class="portlet-body">
    @if (canCreate)
    {
        <div class="pull-right" style="margin-bottom:10px;">
            <button id="course_add_new" class="btn green">
                <i class="fa fa-plus"></i> Nhập mới
            </button>
            <input type="hidden" name="hiddenMajorsId" id="hiddenMajorsId" value="@ViewBag.MajorsId" />
        </div>
    }
    <div style="clear:both;"></div>
    <table class="table table-striped table-hover table-bordered" id="course_editable">
        <thead>
            <tr>
                <th>Mã khóa</th>
                <th>Tên khóa</th>
                <th>Năm BĐ</th>
                <th>Năm KT</th>
                <th>Cập nhật</th>
                <th>Xóa</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                foreach (var item in Model)
                {
                    <tr data-objectid="@item.Id">
                        <td>
                            @item.Code
                        </td>
                        <td>
                            @item.Name
                        </td>
                        <td>
                            @item.StartYear
                        </td>
                        <td>
                            @item.FinishYear
                        </td>
                        <td>
                            @if (canUpdate)
                            {
                                <a class="edit" href="javascript:;">
                                    Cập nhật
                                </a>
                            }
                        </td>
                        <td>
                            @if (canDelete)
                            {
                                <a class="delete" href="javascript:;">
                                    Xóa
                                </a>
                            }
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>

